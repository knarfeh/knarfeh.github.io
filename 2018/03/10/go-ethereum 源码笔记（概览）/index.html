<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Golang,cryptocurrency,geth," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="èŠ±äº†ä¸€ç‚¹æ—¶é—´è¯»ä»¥å¤ªåŠçš„æºä»£ç ï¼Œå†…å®¹å¤ªå¤šï¼Œæ‰€ä»¥ä¸€è¾¹çœ‹ä¸€è¾¹å†™ï¼Œæ²¡æƒ³åˆ°è¶Šå†™è¶Šå¤šï¼Œäºæ˜¯æƒ³ç€æŠŠç¬”è®°æ•´ç†å‡ºæ¥ã€‚ æºç è§£è¯»æ˜¯ä¸€ä»¶è´¹åŠ›ä¸è®¨å¥½çš„äº‹æƒ…ï¼Œå› ä¸ºçœ‹ä»£ç çš„æ—¶å€™æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶å¯ä»¥çœ‹åˆ° commit çš„å†å²ï¼Œä½†æˆ‘ä»¬çœ‹ä¸åˆ°ä½œè€…çš„æ€è·¯ï¼Œè¸©è¿‡çš„å‘ï¼Œè€Œä¸” geth çš„è®¾è®¡æ–‡æ¡£ï¼ŒåŠŸèƒ½çš„ç›¸å…³è®¨è®ºç­‰ä¿¡æ¯ä¸åƒ Kubernetes é‚£ä¹ˆè§„èŒƒé€æ˜ï¼Œæ‰€ä»¥æˆ‘çœ‹è¿™äº›ä»£ç çš„æ—¶å€™å¾ˆå¤šåœ°æ–¹ä¹Ÿåªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œæ¬¢è¿æœ‰æ›´å¤šç»éªŒçš„æœ‹å‹">
<meta name="keywords" content="Golang,cryptocurrency,geth">
<meta property="og:type" content="article">
<meta property="og:title" content="go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰">
<meta property="og:url" content="http://knarfeh.github.io/2018/03/10/go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰/index.html">
<meta property="og:site_name" content="knarfeh&#39;s logbook">
<meta property="og:description" content="èŠ±äº†ä¸€ç‚¹æ—¶é—´è¯»ä»¥å¤ªåŠçš„æºä»£ç ï¼Œå†…å®¹å¤ªå¤šï¼Œæ‰€ä»¥ä¸€è¾¹çœ‹ä¸€è¾¹å†™ï¼Œæ²¡æƒ³åˆ°è¶Šå†™è¶Šå¤šï¼Œäºæ˜¯æƒ³ç€æŠŠç¬”è®°æ•´ç†å‡ºæ¥ã€‚ æºç è§£è¯»æ˜¯ä¸€ä»¶è´¹åŠ›ä¸è®¨å¥½çš„äº‹æƒ…ï¼Œå› ä¸ºçœ‹ä»£ç çš„æ—¶å€™æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶å¯ä»¥çœ‹åˆ° commit çš„å†å²ï¼Œä½†æˆ‘ä»¬çœ‹ä¸åˆ°ä½œè€…çš„æ€è·¯ï¼Œè¸©è¿‡çš„å‘ï¼Œè€Œä¸” geth çš„è®¾è®¡æ–‡æ¡£ï¼ŒåŠŸèƒ½çš„ç›¸å…³è®¨è®ºç­‰ä¿¡æ¯ä¸åƒ Kubernetes é‚£ä¹ˆè§„èŒƒé€æ˜ï¼Œæ‰€ä»¥æˆ‘çœ‹è¿™äº›ä»£ç çš„æ—¶å€™å¾ˆå¤šåœ°æ–¹ä¹Ÿåªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œæ¬¢è¿æœ‰æ›´å¤šç»éªŒçš„æœ‹å‹">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://knarfeh-1254074221.cos.na-siliconvalley.myqcloud.com/stackexchange-ethereum-block-architecture.jpg">
<meta property="og:image" content="https://knarfeh-1254074221.cos.na-siliconvalley.myqcloud.com/ethereum-leveld-architecture.png">
<meta property="og:updated_time" content="2018-10-27T09:27:54.303Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰">
<meta name="twitter:description" content="èŠ±äº†ä¸€ç‚¹æ—¶é—´è¯»ä»¥å¤ªåŠçš„æºä»£ç ï¼Œå†…å®¹å¤ªå¤šï¼Œæ‰€ä»¥ä¸€è¾¹çœ‹ä¸€è¾¹å†™ï¼Œæ²¡æƒ³åˆ°è¶Šå†™è¶Šå¤šï¼Œäºæ˜¯æƒ³ç€æŠŠç¬”è®°æ•´ç†å‡ºæ¥ã€‚ æºç è§£è¯»æ˜¯ä¸€ä»¶è´¹åŠ›ä¸è®¨å¥½çš„äº‹æƒ…ï¼Œå› ä¸ºçœ‹ä»£ç çš„æ—¶å€™æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶å¯ä»¥çœ‹åˆ° commit çš„å†å²ï¼Œä½†æˆ‘ä»¬çœ‹ä¸åˆ°ä½œè€…çš„æ€è·¯ï¼Œè¸©è¿‡çš„å‘ï¼Œè€Œä¸” geth çš„è®¾è®¡æ–‡æ¡£ï¼ŒåŠŸèƒ½çš„ç›¸å…³è®¨è®ºç­‰ä¿¡æ¯ä¸åƒ Kubernetes é‚£ä¹ˆè§„èŒƒé€æ˜ï¼Œæ‰€ä»¥æˆ‘çœ‹è¿™äº›ä»£ç çš„æ—¶å€™å¾ˆå¤šåœ°æ–¹ä¹Ÿåªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œæ¬¢è¿æœ‰æ›´å¤šç»éªŒçš„æœ‹å‹">
<meta name="twitter:image" content="https://knarfeh-1254074221.cos.na-siliconvalley.myqcloud.com/stackexchange-ethereum-block-architecture.jpg">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'åšä¸»'
    }
  };
</script>

  <title> go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰ | knarfeh's logbook </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-75002639-1', 'auto');
  ga('send', 'pageview');
</script>









  
  

  <div class="container one-collumn  page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">knarfeh's logbook</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-twitter">
          <a href="/twitter" rel="section">
            
              <i class="menu-item-icon fa fa-coffee fa-fw"></i> <br />
            
            Twitter
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2018-03-10T22:34:56+08:00" content="2018-03-10">
              2018-03-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2018/03/10/go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/03/10/go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>èŠ±äº†ä¸€ç‚¹æ—¶é—´è¯»ä»¥å¤ªåŠçš„æºä»£ç ï¼Œå†…å®¹å¤ªå¤šï¼Œæ‰€ä»¥ä¸€è¾¹çœ‹ä¸€è¾¹å†™ï¼Œæ²¡æƒ³åˆ°è¶Šå†™è¶Šå¤šï¼Œäºæ˜¯æƒ³ç€æŠŠç¬”è®°æ•´ç†å‡ºæ¥ã€‚</p>
<p>æºç è§£è¯»æ˜¯ä¸€ä»¶è´¹åŠ›ä¸è®¨å¥½çš„äº‹æƒ…ï¼Œå› ä¸ºçœ‹ä»£ç çš„æ—¶å€™æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶å¯ä»¥çœ‹åˆ° commit çš„å†å²ï¼Œä½†æˆ‘ä»¬çœ‹ä¸åˆ°ä½œè€…çš„æ€è·¯ï¼Œè¸©è¿‡çš„å‘ï¼Œè€Œä¸” geth çš„è®¾è®¡æ–‡æ¡£ï¼ŒåŠŸèƒ½çš„ç›¸å…³è®¨è®ºç­‰ä¿¡æ¯ä¸åƒ Kubernetes é‚£ä¹ˆè§„èŒƒé€æ˜ï¼Œæ‰€ä»¥æˆ‘çœ‹è¿™äº›ä»£ç çš„æ—¶å€™å¾ˆå¤šåœ°æ–¹ä¹Ÿåªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œæ¬¢è¿æœ‰æ›´å¤šç»éªŒçš„æœ‹å‹æ‰¹è¯„æŒ‡æ­£ï¼Œä¸åèµæ•™ï¼Œä¹Ÿæ¬¢è¿æœ‰ä»·å€¼çš„è®¨è®ºã€‚çœ‹äº†ä¸€äº›ä¹¦å’Œæ–‡ç« ï¼Œæ‰€ä»¥æˆ‘è¿™ä¹Ÿç®—ä¸ä¸Šå¤šåŸåˆ›ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çœ‹è¿‡çš„é“¾æ¥éƒ½è®°åœ¨ reference é‡Œé¢äº†ã€‚æœ‰çš„ä»£ç æš‚æ—¶çœ‹ä¸æ‡‚å°±åªèƒ½é çŒœäº†ï¼Œç­‰å¾…ä¹‹åçš„å®è·µä¸­éªŒè¯æƒ³æ³•ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¯¹äºåŒæ ·æƒ³è¦é˜…è¯» geth çš„æºä»£ç çš„äººæ¥è¯´æ€»è¿˜æ˜¯æœ‰äº›ä½œç”¨ï¼Œå¯¹äºæˆ‘ä¸ªäººæ¥è¯´æ•´ç†å‡ºæ¥è¿™äº›æ–‡ç« ä¹Ÿæ˜¯ä¸€ä¸ªæ€»ç»“çŸ¥è¯†ï¼ŒæŠŠç‚¹è¿æˆé¢çš„è¿‡ç¨‹ï¼Œå¸Œæœ›åŒæ—¶èƒ½å¸®åˆ°å…¶ä»–äººã€‚</p>
<p>geth ç‰ˆæœ¬ï¼šmaster åˆ†æ”¯ï¼Œa1eb9c7d13240fd250866219a502d0cdc9924e06</p>
<a id="more"></a>
<p>è¿™æ˜¯ç¬¬ä¸€ç¯‡ï¼Œå¯ä»¥ä½œä¸ºç´¢å¼•ï¼Œåç»­å‘å¸ƒå…¶ä»–æ–‡ç« åä¼šä¸æ–­æ›´æ–°ğŸ‘‡</p>
<ul>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88%E6%A6%82%E8%A7%88%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆåŸºç¡€çŸ¥è¯†ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88cmd%20%E6%A8%A1%E5%9D%97-geth%20%E5%91%BD%E4%BB%A4%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆcmd æ¨¡å—-geth å‘½ä»¤ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88cmd%20%E6%A8%A1%E5%9D%97-%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆcmd æ¨¡å—-å…¶ä»–å‘½ä»¤ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88core%20%E6%A8%A1%E5%9D%97-%E5%8C%BA%E5%9D%97%E9%93%BE%E6%93%8D%E4%BD%9C%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆcore æ¨¡å—-åŒºå—é“¾æ“ä½œï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88rlp%20%E6%A8%A1%E5%9D%97-%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆrlp æ¨¡å—-åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88trie%20%E6%A8%A1%E5%9D%97-MPT%20%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆtrie æ¨¡å—-MPTçš„å®ç°ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88accounts,%20transaction%20%E6%A8%A1%E5%9D%97-%E8%B4%A6%E6%88%B7%E5%92%8C%E8%BD%AC%E8%B4%A6%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆaccounts, transaction æ¨¡å—-è´¦æˆ·å’Œè½¬è´¦ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88core%20%E6%A8%A1%E5%9D%97-%E4%BA%A4%E6%98%93%E6%B1%A0%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆcore æ¨¡å—-äº¤æ˜“æ± æ¨¡å—ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88miner,%20consensus%20%E6%A8%A1%E5%9D%97-%E6%8C%96%E7%9F%BF%E5%92%8C%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆminer,consensus æ¨¡å—-æŒ–çŸ¿å’Œå…±è¯†ç®—æ³•)</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88ethdb%20%E6%A8%A1%E5%9D%97%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆethdb æ¨¡å—ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88core%20%E6%A8%A1%E5%9D%97-%E4%B8%96%E7%95%8C%E7%8A%B6%E6%80%81%EF%BC%8C%E4%BA%A4%E6%98%93%E6%94%B6%E6%8D%AE%E7%AE%A1%E7%90%86%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆcore æ¨¡å—-ä¸–ç•ŒçŠ¶æ€ï¼Œäº¤æ˜“æ”¶æ®ç®¡ç†ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88core%20%E6%A8%A1%E5%9D%97-EVM-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆcore æ¨¡å—-EVM-è™šæ‹Ÿæœºçš„å®ç°ï¼‰</a></li>
<li><a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88core,%20eth%20%E6%A8%A1%E5%9D%97-%E9%93%BE%E7%9A%84%E7%B4%A2%E5%BC%95%EF%BC%8C%E6%90%9C%E7%B4%A2%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆcore, eth æ¨¡å—-é“¾çš„ç´¢å¼•ï¼Œæœç´¢ï¼‰</a></li>
</ul>
<h2 id="æ¶‰åŠåˆ°çš„è®¡ç®—æœºä¸“ä¸šçŸ¥è¯†"><a href="#æ¶‰åŠåˆ°çš„è®¡ç®—æœºä¸“ä¸šçŸ¥è¯†" class="headerlink" title="æ¶‰åŠåˆ°çš„è®¡ç®—æœºä¸“ä¸šçŸ¥è¯†"></a>æ¶‰åŠåˆ°çš„è®¡ç®—æœºä¸“ä¸šçŸ¥è¯†</h2><ul>
<li>ç½‘ç»œçŸ¥è¯†ï¼Œp2p ç½‘ç»œï¼ˆKad ç®—æ³•ï¼‰ ï¼Œrpc ç­‰ç­‰</li>
<li>åŠ å¯†å­¦ï¼Œæš‚æ—¶ä¸éœ€è¦å¾ˆæ·±å…¥ï¼Œé™¤éæ˜¯åƒ <a href="http://teahour.fm/2018/07/08/how-to-build-blockchain-from-scratch.html" target="_blank" rel="external">How to build blockchain from scratch?</a> è¯´çš„éœ€è¦æ„å»ºåŠ å¯†å‡½æ•°ç›¸å…³çš„åº“ï¼Œåœ¨å¤§å¤šæ•°çš„åœºæ™¯ä¸‹åªéœ€è¦çŸ¥é“åŠ å¯†å‡½æ•°çš„åŸºæœ¬åŸç†å’Œä½¿ç”¨ã€‚å½“ç„¶è¶Šæ·±å…¥è¶Šå¥½ï¼Œè¿™ä¸€å—ä¹Ÿå¯ä»¥åšå‡ºåˆ›æ–°ï¼›å®‰å…¨å¯¹äºå¾ˆå¤šè¡Œä¸šæ˜¯å‘½è„‰ï¼Œå¯¹äºåŒºå—é“¾æ¥è¯´æ›´æ˜¯å¦‚æ­¤ã€‚æ¨èé˜…è¯»å¯†ç å­¦å…¥é—¨ç»å…¸ï¼š<a href="https://book.douban.com/subject/26265544/" target="_blank" rel="external">å›¾è§£å¯†ç æŠ€æœ¯</a></li>
<li>ç¼–è¯‘åŸç†ï¼Œçœ‹ EVM ç›¸å…³çš„å®ç°æ—¶éœ€è¦çŸ¥é“ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚</li>
<li>åˆ†å¸ƒå¼ç³»ç»ŸåŸç†(ä¸€è‡´æ€§ç®—æ³•)</li>
<li>æ™ºèƒ½åˆçº¦</li>
<li>æ•°æ®åº“(LevelDB)ï¼Œäº†è§£ LSM çš„ç‰¹ç‚¹ï¼Œä¸éœ€è¦å¤ªæ·±å…¥çš„äº†è§£ï¼ŒçŸ¥é“ API è°ƒç”¨å³å¯ã€‚å½“ç„¶çŸ¥é“åº•å±‚åŸç†æœ€å¥½ï¼Œè¿™å—ä¹Ÿæœ‰æ”¹è¿›çš„ç©ºé—´ï¼Œå¾®åšä¸Šçš„<a href="https://weibo.com/1875401263/GtTacBjm2?filter=hot&amp;root_comment_id=0&amp;type=comment" target="_blank" rel="external">é‚“è‰åŸ</a>åŒå­¦åœ¨åšè¿™æ–¹é¢çš„å·¥ä½œï¼Œé’ˆå¯¹åŒºå—é“¾çš„æ•°æ®ç‰¹ç‚¹è®¾è®¡ä¸“é—¨çš„å­˜å‚¨å¼•æ“ï¼ŒTPS æœ‰ä¸å°çš„æå‡ï¼Œä¸è¿‡æˆ‘è¿˜æ²¡æœ‰ç»†çœ‹ä»£ç ï¼Œä»è®¨è®ºæ¥çœ‹åº”è¯¥æ˜¯å‚è€ƒäº† Kafka çš„å­˜å‚¨ç‰¹ç‚¹ã€‚</li>
<li>ä¸€äº›æ•°æ®ç»“æ„<ul>
<li>MPT</li>
<li>DAG</li>
<li>å¸ƒéš†è¿‡æ»¤å™¨</li>
<li>â€¦</li>
</ul>
</li>
</ul>
<p>å†™å®Œäº†è¿™ä¸ªç³»åˆ—å¯èƒ½ä¼šåŠ ä¸ªæ€ç»´å¯¼å›¾ã€‚</p>
<h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><h3 id="æ€»ä½“æ¶æ„å›¾ï¼ˆæ¥è‡ª-Ethereum-block-architectureï¼‰"><a href="#æ€»ä½“æ¶æ„å›¾ï¼ˆæ¥è‡ª-Ethereum-block-architectureï¼‰" class="headerlink" title="æ€»ä½“æ¶æ„å›¾ï¼ˆæ¥è‡ª Ethereum block architectureï¼‰"></a>æ€»ä½“æ¶æ„å›¾ï¼ˆæ¥è‡ª <a href="https://ethereum.stackexchange.com/questions/268/ethereum-block-architecture" target="_blank" rel="external">Ethereum block architecture</a>ï¼‰</h3><p><img src="https://knarfeh-1254074221.cos.na-siliconvalley.myqcloud.com/stackexchange-ethereum-block-architecture.jpg" alt="https://i.stack.imgur.com/afWDt.jpg"></p>
<h3 id="åˆ†å±‚æ¶æ„"><a href="#åˆ†å±‚æ¶æ„" class="headerlink" title="åˆ†å±‚æ¶æ„"></a>åˆ†å±‚æ¶æ„</h3><p><a href="https://book.douban.com/subject/30199891/" target="_blank" rel="external">ä»¥å¤ªåŠæŠ€æœ¯è¯¦è§£ä¸å®æˆ˜</a>è¿™æœ¬ä¹¦é‡Œä»‹ç»äº†ä»¥å¤ªåŠçš„åˆ†å±‚æ¶æ„ï¼Œå…¶ä¸­çš„å›¾ç‰‡è¿˜æŒºæœ‰å‚è€ƒä»·å€¼çš„ï¼Œç½‘ç»œä¸Šæ²¡æœ‰æ‰¾åˆ°åŸå›¾ï¼Œæ‰€ä»¥æˆ‘è‡ªå·±ç”»äº†ä¸€ä¸‹ï¼š</p>
<p><img src="https://knarfeh-1254074221.cos.na-siliconvalley.myqcloud.com/ethereum-leveld-architecture.png" alt="ethereum-leveld-architecture"></p>
<h4 id="åº•å±‚æœåŠ¡"><a href="#åº•å±‚æœåŠ¡" class="headerlink" title="åº•å±‚æœåŠ¡"></a>åº•å±‚æœåŠ¡</h4><p>åº•å±‚æœåŠ¡åŒ…æ‹¬ P2P ç½‘ç»œã€LevelDB æ•°æ®åº“ã€å¯†ç å­¦ç®—æ³•å’Œåˆ†ç‰‡ä¼˜åŒ–ç­‰åŸºç¡€æœåŠ¡ã€‚</p>
<h4 id="æ ¸å¿ƒå±‚"><a href="#æ ¸å¿ƒå±‚" class="headerlink" title="æ ¸å¿ƒå±‚"></a>æ ¸å¿ƒå±‚</h4><p>æ ¸å¿ƒå±‚åŒ…æ‹¬åŒºå—é“¾ã€å…±è¯†ç®—æ³•å’Œä»¥å¤ªåŠè™šæ‹Ÿæœºç­‰ã€‚</p>
<h4 id="é¡¶å±‚åº”ç”¨"><a href="#é¡¶å±‚åº”ç”¨" class="headerlink" title="é¡¶å±‚åº”ç”¨"></a>é¡¶å±‚åº”ç”¨</h4><p>è¿™ä¸€å±‚åŒ…æ‹¬ API æ¥å£ã€æ™ºèƒ½åˆçº¦ä»¥åŠå»ä¸­å¿ƒåŒ–åº”ç”¨ã€‚</p>
<h2 id="é‡è¦çš„æ•°æ®ç»“æ„"><a href="#é‡è¦çš„æ•°æ®ç»“æ„" class="headerlink" title="é‡è¦çš„æ•°æ®ç»“æ„"></a>é‡è¦çš„æ•°æ®ç»“æ„</h2><h3 id="core-types-block-go-åŒºå—çš„æ•°æ®ç»“æ„"><a href="#core-types-block-go-åŒºå—çš„æ•°æ®ç»“æ„" class="headerlink" title="/core/types/block.go åŒºå—çš„æ•°æ®ç»“æ„"></a><code>/core/types/block.go</code> åŒºå—çš„æ•°æ®ç»“æ„</h3><p>åŒºå—çš„æ•°æ®ç»“æ„åœ¨ <code>core/types/block.go</code> ä¸­å®šä¹‰ã€‚å…ˆæ··ä¸ªçœ¼ç†Ÿå§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">type Block struct &#123;</div><div class="line">	header       *Header</div><div class="line">	uncles       []*Header</div><div class="line">	transactions Transactions</div><div class="line">	hash atomic.Value</div><div class="line">	size atomic.Value</div><div class="line">	td *big.Int</div><div class="line">	ReceivedAt   time.Time</div><div class="line">	ReceivedFrom interface&#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th><strong>é‡è¦å­—æ®µ</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>header</td>
<td>header æŒ‡å‘ Header ç»“æ„ï¼ˆä¹‹åä¼šè¯¦ç»†è¯´æ˜ï¼‰ï¼Œheader å­˜å‚¨ä¸€ä¸ªåŒºå—çš„åŸºæœ¬ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>uncles</td>
<td>æŒ‡å‘ Header ç»“æ„</td>
</tr>
<tr>
<td>transactions</td>
<td>ä¸€ç»„ transaction ç»“æ„</td>
</tr>
<tr>
<td>hash</td>
<td>å½“å‰åŒºå—çš„å“ˆå¸Œå€¼</td>
</tr>
<tr>
<td>size</td>
<td>å½“å‰åŒºå—çš„å¤§å°</td>
</tr>
<tr>
<td>td</td>
<td>å½“å‰åŒºå—é«˜åº¦</td>
</tr>
<tr>
<td>ReceivedAt</td>
<td>æ¥æ”¶æ—¶é—´</td>
</tr>
<tr>
<td>ReceivedFrom</td>
<td>æ¥æº</td>
</tr>
</tbody>
</table>
<p>äº¤æ˜“ç»„æˆåŒºå—ï¼Œä¸€ä¸ªä¸€ä¸ªåŒºå—ä»¥å•å‘é“¾è¡¨çš„å½¢å¼è¿åœ¨ä¸€èµ·ç»„æˆåŒºå—é“¾ï¼Œæ¯‹åº¸ç½®ç–‘ï¼Œè¿™æ˜¯æœ€åŸºç¡€çš„æ•°æ®ç»“æ„ï¼Œåœ¨ geth çš„æºä»£ç ä¸­å¤§é‡ç”¨åˆ°ã€‚</p>
<p>å…¶ä¸­ <code>Header</code> çš„æ•°æ®ç»“æ„å®šä¹‰ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">type Header struct &#123;</div><div class="line">	ParentHash  common.Hash    `json:&quot;parentHash&quot;       gencodec:&quot;required&quot;`</div><div class="line">	UncleHash   common.Hash    `json:&quot;sha3Uncles&quot;       gencodec:&quot;required&quot;`</div><div class="line">	Coinbase    common.Address `json:&quot;miner&quot;            gencodec:&quot;required&quot;`</div><div class="line">	Root        common.Hash    `json:&quot;stateRoot&quot;        gencodec:&quot;required&quot;`</div><div class="line">	TxHash      common.Hash    `json:&quot;transactionsRoot&quot; gencodec:&quot;required&quot;`</div><div class="line">	ReceiptHash common.Hash    `json:&quot;receiptsRoot&quot;     gencodec:&quot;required&quot;`</div><div class="line">	Bloom       Bloom          `json:&quot;logsBloom&quot;        gencodec:&quot;required&quot;`</div><div class="line">	Difficulty  *big.Int       `json:&quot;difficulty&quot;       gencodec:&quot;required&quot;`</div><div class="line">	Number      *big.Int       `json:&quot;number&quot;           gencodec:&quot;required&quot;`</div><div class="line">	GasLimit    uint64         `json:&quot;gasLimit&quot;         gencodec:&quot;required&quot;`</div><div class="line">	GasUsed     uint64         `json:&quot;gasUsed&quot;          gencodec:&quot;required&quot;`</div><div class="line">	Time        *big.Int       `json:&quot;timestamp&quot;        gencodec:&quot;required&quot;`</div><div class="line">	Extra       []byte         `json:&quot;extraData&quot;        gencodec:&quot;required&quot;`</div><div class="line">	MixDigest   common.Hash    `json:&quot;mixHash&quot;          gencodec:&quot;required&quot;`</div><div class="line">	Nonce       BlockNonce     `json:&quot;nonce&quot;            gencodec:&quot;required&quot;`</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th><strong>å­—æ®µ</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ParentHash</td>
<td>çˆ¶åŒºå—çš„å“ˆå¸Œå€¼</td>
</tr>
<tr>
<td>UncleHash</td>
<td>å”åŒºå—çš„å“ˆå¸Œå€¼</td>
</tr>
<tr>
<td>Coinbase</td>
<td>çŸ¿å·¥å¾—åˆ°å¥–åŠ±çš„è´¦æˆ·ï¼Œä¸€èˆ¬æ˜¯çŸ¿å·¥æœ¬åœ°ç¬¬ä¸€ä¸ªè´¦æˆ·</td>
</tr>
<tr>
<td>Root</td>
<td>è¡¨ç¤ºå½“å‰æ‰€æœ‰ç”¨æˆ·çŠ¶æ€</td>
</tr>
<tr>
<td>TxHash</td>
<td>æœ¬åŒºå—æ‰€æœ‰äº¤æ˜“ Hashï¼Œå³æ‘˜è¦</td>
</tr>
<tr>
<td>ReceiptHash</td>
<td>æœ¬åŒºå—æ‰€æœ‰æ”¶æ® Hashï¼Œå³æ‘˜è¦</td>
</tr>
<tr>
<td>Bloom</td>
<td>å¸ƒéš†è¿‡æ»¤å™¨ï¼Œç”¨æ¥æœç´¢æ”¶æ®</td>
</tr>
<tr>
<td>Difficulty</td>
<td>è¯¥åŒºå—éš¾åº¦ï¼ŒåŠ¨æ€è°ƒæ•´ï¼Œä¸çˆ¶åŒºå—å’Œæœ¬åŒºå—æŒ–çŸ¿æ—¶é—´æœ‰å…³ã€‚å¯å‚è€ƒ <code>github.com/ethereum/go-ethereum/consensus/ethash/consensus.go</code> çš„ <code>CalcDifficulty</code></td>
</tr>
<tr>
<td>Number</td>
<td>è¯¥åŒºå—é«˜åº¦</td>
</tr>
<tr>
<td>GasLimit</td>
<td>gas ç”¨é‡ä¸Šé™ï¼Œè¯¥æ•°å€¼æ ¹æ®çˆ¶åŒºå— gas ç”¨é‡è°ƒèŠ‚ï¼Œå¦‚æœ <code>parentGasUsed &gt; parentGasLimit * (2/3)</code> ï¼Œåˆ™å¢å¤§è¯¥æ•°å€¼ï¼Œåä¹‹åˆ™å‡å°è¯¥æ•°å€¼ã€‚å¯å‚çœ‹ <code>github.com/ethereum/go-ethereum/core/block_validator.go</code> çš„ <code>CalcGasLimit</code></td>
</tr>
<tr>
<td>GasUsed</td>
<td>å®é™…èŠ±è´¹çš„ gas</td>
</tr>
<tr>
<td>Time</td>
<td>æ–°åŒºå—çš„å‡ºå—æ—¶é—´ï¼Œä¸¥æ ¼æ¥è¯´æ˜¯å¼€å§‹æŒ–çŸ¿çš„æ—¶é—´</td>
</tr>
<tr>
<td>Extra</td>
<td>é¢å¤–æ•°æ®</td>
</tr>
<tr>
<td>MixDigest</td>
<td>æ··åˆå“ˆå¸Œï¼Œä¸ nonce ç»“åˆä½¿ç”¨</td>
</tr>
<tr>
<td>Nonce</td>
<td>åŠ å¯†å­¦ä¸­çš„æ¦‚å¿µï¼Œåœ¨åŸºæœ¬æ¦‚å¿µç« èŠ‚ä¸­æœ‰ä»‹ç»</td>
</tr>
</tbody>
</table>
<p>å®ƒåŒ…å«åŒºå—çš„å±æ€§ä¿¡æ¯ï¼Œ<code>ParentHash</code> è¡¨ç¤ºè¯¥åŒºå—çš„çˆ¶åŒºå—å“ˆå¸Œï¼Œæˆ‘ä»¬é€šè¿‡ <code>ParentHash</code> è¿™ä¸ªå­—æ®µå°†ä¸€ä¸ªä¸€ä¸ªåŒºå—è¿æ¥èµ·æ¥ç»„æˆåŒºå—é“¾ï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬å¹¶ä¸ä¼šç›´æ¥å°†é“¾æ•´ä¸ªçš„å­˜èµ·æ¥ï¼Œå®ƒæ˜¯ä»¥ä¸€å®šçš„æ•°æ®ç»“æ„ä¸€å—ä¸€å—å­˜æ”¾çš„ï¼Œgeth çš„åº•å±‚æ•°æ®åº“ç”¨çš„æ˜¯ LevelDBï¼Œè¿™æ˜¯ä¸€ä¸ª key-value æ•°æ®åº“ï¼Œè¦å¾—åˆ°çˆ¶åŒºå—æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡ <code>ParentHash</code> ä»¥åŠå…¶ä»–å­—ç¬¦ä¸²ç»„æˆ keyï¼Œåœ¨ LevelDB ä¸­æŸ¥è¯¢è¯¥ key å¯¹åº”çš„å€¼ï¼Œå°±èƒ½æ‹¿åˆ°çˆ¶åŒºå—ã€‚</p>
<h3 id="core-blockchain-go-åŒºå—é“¾çš„æ•°æ®ç»“æ„"><a href="#core-blockchain-go-åŒºå—é“¾çš„æ•°æ®ç»“æ„" class="headerlink" title="/core/blockchain.go åŒºå—é“¾çš„æ•°æ®ç»“æ„"></a>/core/blockchain.go åŒºå—é“¾çš„æ•°æ®ç»“æ„</h3><p><code>core/blockchain.go</code> çš„ <code>BlockChain</code> ç»“æ„ä½“å®šä¹‰äº†åŒºå—é“¾çš„æ•°æ®ç»“æ„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">type BlockChain struct &#123;</div><div class="line">	chainConfig *params.ChainConfig</div><div class="line">	cacheConfig *CacheConfig</div><div class="line"></div><div class="line">	db     ethdb.Database</div><div class="line">	triegc *prque.Prque</div><div class="line">	gcproc time.Duration</div><div class="line"></div><div class="line">	hc            *HeaderChain</div><div class="line">	rmLogsFeed    event.Feed</div><div class="line">	chainFeed     event.Feed</div><div class="line">	chainSideFeed event.Feed</div><div class="line">	chainHeadFeed event.Feed</div><div class="line">	logsFeed      event.Feed</div><div class="line">	scope         event.SubscriptionScope</div><div class="line">	genesisBlock  *types.Block</div><div class="line"></div><div class="line">	mu      sync.RWMutex</div><div class="line">	chainmu sync.RWMutex</div><div class="line">	procmu  sync.RWMutex</div><div class="line"></div><div class="line">	checkpoint       int</div><div class="line">	currentBlock     atomic.Value</div><div class="line">	currentFastBlock atomic.Value</div><div class="line"></div><div class="line">	stateCache   state.Database</div><div class="line">	bodyCache    *lru.Cache</div><div class="line">	bodyRLPCache *lru.Cache</div><div class="line">	blockCache   *lru.Cache</div><div class="line">	futureBlocks *lru.Cache</div><div class="line"></div><div class="line">	quit    chan struct&#123;&#125;</div><div class="line">	running int32</div><div class="line">	procInterrupt int32</div><div class="line">	wg            sync.WaitGroup</div><div class="line"></div><div class="line">	engine    consensus.Engine</div><div class="line">	processor Processor</div><div class="line">	validator Validator</div><div class="line">	vmConfig  vm.Config</div><div class="line"></div><div class="line">	badBlocks *lru.Cache</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>UncleHash</code> æ˜¯ <code>Block</code> ç»“æ„ä½“æˆå‘˜ <code>uncles</code> çš„ RLP å“ˆå¸Œå€¼ï¼Œ<code>uncles</code> æ˜¯ä¸€ä¸ª <code>Headers</code> æ•°ç»„ï¼Œå…³äºå”åŒºå—ï¼Œå¯ä»¥æŸ¥é˜…ä»¥å¤ªåŠçš„<a href="https://github.com/ethereum/wiki/wiki/Design-Rationale#uncle-incentivization" target="_blank" rel="external">è®¾è®¡åŸç†</a>ã€‚åœ¨ä¸‹ä¸€ç¯‡ <a href="https://knarfeh.com/2018/03/10/go-ethereum%20%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%EF%BC%89/" target="_blank" rel="external">go-ethereum æºç ç¬”è®°ï¼ˆåŸºç¡€çŸ¥è¯†ï¼‰</a> ä¼šè¯¦ç»†ä»‹ç»å”åŒºå—ã€‚</p>
<p>Block å¯¹è±¡ä¸­è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ•°æ®ç»“æ„ï¼Œé‚£å°±æ˜¯ <code>Transaction</code>ï¼Œå®ƒæ˜¯äº¤æ˜“ç›¸å…³é€»è¾‘çš„åŸºç¡€ã€‚</p>
<h3 id="core-types-transaction-go-äº¤æ˜“çš„æ•°æ®ç»“æ„"><a href="#core-types-transaction-go-äº¤æ˜“çš„æ•°æ®ç»“æ„" class="headerlink" title="/core/types/transaction.go äº¤æ˜“çš„æ•°æ®ç»“æ„"></a><code>/core/types/transaction.go</code> äº¤æ˜“çš„æ•°æ®ç»“æ„</h3><p>äº¤æ˜“çš„æ•°æ®ç»“æ„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">type Transaction struct &#123;</div><div class="line">	data txdata</div><div class="line">	// caches</div><div class="line">	hash atomic.Value</div><div class="line">	size atomic.Value</div><div class="line">	from atomic.Value</div><div class="line">&#125;</div><div class="line"></div><div class="line">type txdata struct &#123;</div><div class="line">	AccountNonce uint64          `json:&quot;nonce&quot;    gencodec:&quot;required&quot;`</div><div class="line">	Price        *big.Int        `json:&quot;gasPrice&quot; gencodec:&quot;required&quot;`</div><div class="line">	GasLimit     uint64          `json:&quot;gas&quot;      gencodec:&quot;required&quot;`</div><div class="line">	Recipient    *common.Address `json:&quot;to&quot;       rlp:&quot;nil&quot;`</div><div class="line">	Amount       *big.Int        `json:&quot;value&quot;    gencodec:&quot;required&quot;`</div><div class="line">	Payload      []byte          `json:&quot;input&quot;    gencodec:&quot;required&quot;`</div><div class="line"></div><div class="line">	V *big.Int `json:&quot;v&quot; gencodec:&quot;required&quot;`</div><div class="line">	R *big.Int `json:&quot;r&quot; gencodec:&quot;required&quot;`</div><div class="line">	S *big.Int `json:&quot;s&quot; gencodec:&quot;required&quot;`</div><div class="line"></div><div class="line">	Hash *common.Hash `json:&quot;hash&quot; rlp:&quot;-&quot;`</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è½¬è´¦çš„å®šä¹‰ä¸­åªæœ‰è½¬å…¥æ–¹ï¼Œè½¬å‡ºæ–¹çš„åœ°å€æ²¡æœ‰ç›´æ¥æš´éœ²ã€‚æ¯ä¸€ç¬”è½¬è´¦éƒ½æœ‰ç‹¬ç«‹çš„ Price å’Œ GasLimitï¼Œè¿™æ˜¯ Ethereum çš„å®‰å…¨ä¿æŠ¤ç­–ç•¥ï¼Œæ˜¯ä¸€ä¸ªå€¼å¾—ç§°èµçš„è®¾è®¡ï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªä¸ç†Ÿæ‚‰ï¼Œè¯·æŸ¥é˜…ï¼š<a href="https://github.com/ethereum/wiki/wiki/Glossary" target="_blank" rel="external">wiki/Glossary</a>ï¼Œåœ¨ä¹‹åçš„æ–‡ç« ä¸­ä¹Ÿä¼šæœ‰ä»‹ç»ã€‚</p>
<h2 id="geth-ç›®å½•ç»“æ„ç®€è¿°"><a href="#geth-ç›®å½•ç»“æ„ç®€è¿°" class="headerlink" title="geth ç›®å½•ç»“æ„ç®€è¿°"></a>geth ç›®å½•ç»“æ„ç®€è¿°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">accounts        å®ç°ä»¥å¤ªåŠè´¦æˆ·ç®¡ç†</div><div class="line">build           ç¼–è¯‘å’Œæ„å»ºçš„ä¸€äº›è„šæœ¬å’Œé…ç½®</div><div class="line">cmd             å‘½ä»¤è¡Œå·¥å…·ï¼Œåˆåˆ†äº†å¾ˆå¤šçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸‹é¢ä¼šä¸€ä¸ªä¸€ä¸ªä»‹ç»</div><div class="line">    abigen      å°†ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å®šä¹‰è½¬æ¢ä¸ºç±»å‹å®‰å…¨çš„ Go æˆ– Java åŒ…çš„æºç è½¬æ¢å™¨</div><div class="line">    bootnode	å¯åŠ¨ä¸€ä¸ªç”¨äºç½‘ç»œå‘ç°çš„èŠ‚ç‚¹</div><div class="line">    evm         ä»¥å¤ªåŠè™šæ‹Ÿæœºçš„å¼€å‘å·¥å…·ï¼Œç”¨æ¥æä¾›ä¸€ä¸ªå¯é…ç½®çš„ï¼Œå—éš”ç¦»çš„ä»£ç è°ƒè¯•ç¯å¢ƒ</div><div class="line">    faucet		ä»¥å¤ªåŠ faucet æµ‹è¯•ç½‘ç»œ</div><div class="line">    geth        ä»¥å¤ªåŠå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œæœ€é‡è¦çš„ä¸€ä¸ªå·¥å…·</div><div class="line">    p2psim      æä¾›äº†ä¸€ä¸ªå·¥å…·æ¥æ¨¡æ‹Ÿ p2p çš„ API</div><div class="line">    puppeth     åˆ›å»ºä¸€ä¸ªæ–°çš„ä»¥å¤ªåŠç½‘ç»œçš„å‘å¯¼</div><div class="line">    rlpdump     æä¾›äº†ä¸€ä¸ª RLP æ•°æ®çš„æ ¼å¼åŒ–è¾“å‡º</div><div class="line">    swarm       swarm ç½‘ç»œçš„æ¥å…¥ç‚¹</div><div class="line">    util        æä¾›äº†ä¸€äº›å…¬å…±çš„å·¥å…·</div><div class="line">    wnode       è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ Whisper èŠ‚ç‚¹ã€‚å®ƒå¯ä»¥ç”¨ä½œç‹¬ç«‹çš„å¼•å¯¼èŠ‚ç‚¹ã€‚æ­¤å¤–å¯ä»¥ç”¨äºä¸åŒçš„æµ‹è¯•å’Œè¯Šæ–­ç›®çš„</div><div class="line">common      	æä¾›äº†ä¸€äº›å…¬å…±çš„å·¥å…·ç±»</div><div class="line">consensus       æä¾›äº†ä»¥å¤ªåŠçš„ä¸€äº›å…±è¯†ç®—æ³•ï¼Œæ¯”å¦‚ ethhash, clique(proof-of-authority)</div><div class="line">console         ä¸ç»ˆç«¯äº¤äº’ç›¸å…³çš„ä»£ç </div><div class="line">containers		Docker å®¹å™¨ç›¸å…³çš„ä»£ç </div><div class="line">contracts		ä»¥å¤ªåŠåŸŸåæœåŠ¡ï¼Œç¥¨æ®æ”¯ä»˜æ–¹æ¡ˆ</div><div class="line">core            ä»¥å¤ªåŠçš„æ ¸å¿ƒæ•°æ®ç»“æ„å’Œç®—æ³•(è™šæ‹Ÿæœºï¼ŒçŠ¶æ€ï¼ŒåŒºå—é“¾ï¼Œå¸ƒéš†è¿‡æ»¤å™¨)</div><div class="line">crypto          åŠ å¯†å’Œ hash ç®—æ³•</div><div class="line">dashboard		ä»¥å¤ªåŠåå°ç®¡ç† UI</div><div class="line">eth             å®ç°äº†ä»¥å¤ªåŠçš„åè®®</div><div class="line">ethclient       æä¾›äº†ä»¥å¤ªåŠçš„ RPC å®¢æˆ·ç«¯</div><div class="line">ethdb           å°è£… geth çš„æ•°æ®åº“(åŒ…æ‹¬å®é™…ä½¿ç”¨çš„ Leveldb å’Œä¾›æµ‹è¯•ä½¿ç”¨çš„å†…å­˜æ•°æ®åº“)</div><div class="line">ethstats        æä¾›ç½‘ç»œçŠ¶æ€çš„æŠ¥å‘Š</div><div class="line">event           å¤„ç†å®æ—¶çš„äº‹ä»¶</div><div class="line">les             å®ç°äº†ä»¥å¤ªåŠçš„è½»é‡çº§åè®®å­é›†</div><div class="line">light           ä¸ºä»¥å¤ªåŠè½»é‡çº§å®¢æˆ·ç«¯æä¾›æŒ‰éœ€æ£€ç´¢çš„åŠŸèƒ½</div><div class="line">log             æä¾›å¯¹äººæœºéƒ½å‹å¥½çš„æ—¥å¿—ä¿¡æ¯</div><div class="line">metrics         æä¾›ç£ç›˜è®¡æ•°å™¨</div><div class="line">miner           æä¾›ä»¥å¤ªåŠçš„åŒºå—åˆ›å»ºå’ŒæŒ–çŸ¿</div><div class="line">mobile          ç§»åŠ¨ç«¯ä½¿ç”¨çš„ä¸€äº› warpper</div><div class="line">node            ä»¥å¤ªåŠçš„å¤šç§ç±»å‹çš„èŠ‚ç‚¹</div><div class="line">p2p             ä»¥å¤ªåŠ p2p ç½‘ç»œåè®®</div><div class="line">rlp             ä»¥å¤ªåŠç¼–ç ç®—æ³•</div><div class="line">rpc             è¿œç¨‹æ–¹æ³•è°ƒç”¨</div><div class="line">swarm           swarm ç½‘ç»œ</div><div class="line">tests           æµ‹è¯•</div><div class="line">trie            å®ç°ä»¥å¤ªåŠä¸­çš„é»˜å…‹å°”å¸•ç‰¹é‡Œå¤æ ‘</div><div class="line">whisper         æä¾›äº† whisper èŠ‚ç‚¹çš„åè®®</div></pre></td></tr></table></figure>
<h2 id="ä»ç¼–è¯‘æºä»£ç å¼€å§‹"><a href="#ä»ç¼–è¯‘æºä»£ç å¼€å§‹" class="headerlink" title="ä»ç¼–è¯‘æºä»£ç å¼€å§‹"></a>ä»ç¼–è¯‘æºä»£ç å¼€å§‹</h2><p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„å»ºè®®è®¾ç½®å¥½å¼€å‘ç¯å¢ƒï¼Œåœ¨ go-ethereum æ‰§è¡Œ <code>make build</code> ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ build/bin ç›®å½•ä¸‹æ‰¾åˆ° abigen, ethkey ç­‰ç­‰å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®é™…ä¸Šè¿™äº›æ–‡ä»¶çš„å…¥å£å‡½æ•°éƒ½åœ¨ cmd ç›®å½•ä¸‹ï¼Œæ¥ä¸‹æ¥çš„æ–‡ç« é‡Œæˆ‘ä»¬ä¼šé€ä¸€ä»‹ç»è¿™äº›å‘½ä»¤ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://bitcoin.org/en/developer-documentation" target="_blank" rel="external">bitcoin developer documentation</a></li>
<li><a href="lilymoana.github.io/ethereum_theory.html">ä»¥å¤ªåŠå·¥ä½œåŸç†æ¦‚è¿°</a></li>
<li><a href="http://ibloodline.com/articles/2018/02/05/go-ethereum.html" target="_blank" rel="external">go-ethereum æºç è§£è¯»ï¼ˆä¸€ï¼‰</a></li>
<li><a href="https://ethereum.github.io/yellowpaper/paper.pdf" target="_blank" rel="external">ethereum é»„çš®ä¹¦</a></li>
<li><a href="https://ethereum.gitbooks.io/frontier-guide/content/index.html" target="_blank" rel="external">Ethereum Frontier Guide</a></li>
<li><a href="https://github.com/ZtesoftCS/go-ethereum-code-analysis" target="_blank" rel="external">go-ethereum-code-analysis</a></li>
<li><a href="https://github.com/libp2p/specs" target="_blank" rel="external">libp2p/specs</a></li>
<li><a href="https://github.com/wugang33/go-ethereum-code-analysis/blob/master/go-ethereum%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.md" target="_blank" rel="external">go ethereum ç›®å½•ä»‹ç»</a></li>
<li><a href="https://book.douban.com/subject/30199891/" target="_blank" rel="external">ä»¥å¤ªåŠæŠ€æœ¯è¯¦è§£ä¸å®æˆ˜</a></li>
<li><a href="https://book.douban.com/subject/26265544/" target="_blank" rel="external">å›¾è§£å¯†ç æŠ€æœ¯</a></li>
<li><a href="https://github.com/ethereum/wiki/wiki/Design-Rationale" target="_blank" rel="external">ä»¥å¤ªåŠè®¾è®¡åŸç†</a> ï¼Œéå¸¸é‡è¦ï¼Œå»ºè®®å¤šè¯»å‡ é</li>
<li><a href="https://github.com/ethereum/pydevp2p" target="_blank" rel="external">ethereum/pydevp2p</a></li>
<li><a href="https://github.com/Jeiwan/blockchain_go" target="_blank" rel="external">Jeiwan/blockchain_go</a></li>
<li><a href="https://ethereum.stackexchange.com/questions/268/ethereum-block-architecture/757" target="_blank" rel="external">Ethereum block architecture</a></li>
<li><a href="https://www.reddit.com/r/ethereum/" target="_blank" rel="external">Ethereum reddit</a></li>
<li><a href="https://medium.com/@preethikasireddy/how-does-ethereum-work-anyway-22d1df506369" target="_blank" rel="external">How does ethereum work anyway</a></li>
</ul>

      
    </div>

    <div>
      
        
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Golang/" rel="tag">#Golang</a>
          
            <a href="/tags/cryptocurrency/" rel="tag">#cryptocurrency</a>
          
            <a href="/tags/geth/" rel="tag">#geth</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/12/15/Docker æ¸…ç†å«å£«/" rel="next" title="Docker æ¸…ç†å«å£«">
                <i class="fa fa-chevron-left"></i> Docker æ¸…ç†å«å£«
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/10/go-ethereum æºç ç¬”è®°ï¼ˆåŸºç¡€çŸ¥è¯†ï¼‰/" rel="prev" title="go-ethereum æºç ç¬”è®°ï¼ˆåŸºç¡€çŸ¥è¯†ï¼‰">
                go-ethereum æºç ç¬”è®°ï¼ˆåŸºç¡€çŸ¥è¯†ï¼‰ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars1.githubusercontent.com/u/6964284?v=3&s=460"
               alt="Frank" />
          <p class="site-author-name" itemprop="name">Frank</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">362</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>
          
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">134</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/knarfeh" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/knarfeh" target="_blank">
                  
                    <i class="fa fa-twitter"></i> Twitter
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://weibo.com/2753500945" target="_blank">
                  
                    <i class="fa fa-weibo"></i> Weibo
                  
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#æ¶‰åŠåˆ°çš„è®¡ç®—æœºä¸“ä¸šçŸ¥è¯†"><span class="nav-number">1.</span> <span class="nav-text">æ¶‰åŠåˆ°çš„è®¡ç®—æœºä¸“ä¸šçŸ¥è¯†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ¶æ„"><span class="nav-number">2.</span> <span class="nav-text">æ¶æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ€»ä½“æ¶æ„å›¾ï¼ˆæ¥è‡ª-Ethereum-block-architectureï¼‰"><span class="nav-number">2.1.</span> <span class="nav-text">æ€»ä½“æ¶æ„å›¾ï¼ˆæ¥è‡ª Ethereum block architectureï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ†å±‚æ¶æ„"><span class="nav-number">2.2.</span> <span class="nav-text">åˆ†å±‚æ¶æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åº•å±‚æœåŠ¡"><span class="nav-number">2.2.1.</span> <span class="nav-text">åº•å±‚æœåŠ¡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ ¸å¿ƒå±‚"><span class="nav-number">2.2.2.</span> <span class="nav-text">æ ¸å¿ƒå±‚</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#é¡¶å±‚åº”ç”¨"><span class="nav-number">2.2.3.</span> <span class="nav-text">é¡¶å±‚åº”ç”¨</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é‡è¦çš„æ•°æ®ç»“æ„"><span class="nav-number">3.</span> <span class="nav-text">é‡è¦çš„æ•°æ®ç»“æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#core-types-block-go-åŒºå—çš„æ•°æ®ç»“æ„"><span class="nav-number">3.1.</span> <span class="nav-text">/core/types/block.go åŒºå—çš„æ•°æ®ç»“æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#core-blockchain-go-åŒºå—é“¾çš„æ•°æ®ç»“æ„"><span class="nav-number">3.2.</span> <span class="nav-text">/core/blockchain.go åŒºå—é“¾çš„æ•°æ®ç»“æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#core-types-transaction-go-äº¤æ˜“çš„æ•°æ®ç»“æ„"><span class="nav-number">3.3.</span> <span class="nav-text">/core/types/transaction.go äº¤æ˜“çš„æ•°æ®ç»“æ„</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#geth-ç›®å½•ç»“æ„ç®€è¿°"><span class="nav-number">4.</span> <span class="nav-text">geth ç›®å½•ç»“æ„ç®€è¿°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä»ç¼–è¯‘æºä»£ç å¼€å§‹"><span class="nav-number">5.</span> <span class="nav-text">ä»ç¼–è¯‘æºä»£ç å¼€å§‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‚è€ƒèµ„æ–™"><span class="nav-number">6.</span> <span class="nav-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frank</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="http://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  
  
<script type="text/javascript" src="/js/src/scrollspy.js?v=0.5.0"></script>

<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = NexT.utils.escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    NexT.motion.middleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');

      if (CONFIG.scheme !== 'Pisces' && (CONFIG.sidebar.display === 'post' || CONFIG.sidebar.display === 'always')) {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          NexT.utils.displaySidebar();
        }
      }
    };
  });
</script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'knarfeh';
      var disqus_identifier = '2018/03/10/go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰/';
      var disqus_title = 'go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰';
      var disqus_url = 'http://knarfeh.github.io/2018/03/10/go-ethereum æºç ç¬”è®°ï¼ˆæ¦‚è§ˆï¼‰/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  



  
  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>

  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
  


  

  <script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>
